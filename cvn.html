<!DOCTYPE html>
<html lang="es"
>
<head>
    <title>CVN - Portal del Investigador</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Favicon -->
    <link rel="shortcut icon" href="//static.ull.es/v3/dist/img/favicon.ico">
    <!--[if IE]><link rel="shortcut icon" href="//static.ull.es/v3/dist/img/favicon.ico"><![endif]-->
    <!-- Touchicon -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="//static.ull.es/v3/dist/img/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="//static.ull.es/v3/dist/img/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="//static.ull.es/v3/dist/img/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="//static.ull.es/v3/dist/img/apple-touch-icon-57-precomposed.png">

<link rel="canonical" href="/investigacion/cvn.html">

        <meta name="author" content="Universidad de La Laguna" />
        <meta name="description" content="Configuración cvn/settings_local.py cp cvn/settings_local-sample.py cvn/settings_local.py VARIABLE DESCRIPCIÓN TIPO UNIVERSITY Nombre de la universidad string EXPIRY_DATE Todos los CVNs con fecha de generación anterior a su valor se consideran caducados date FECYT_USER Nombre de usuario para acceder a los web services de la FECYT string ..." />

    <meta property="og:site_name" content="Portal del Investigador" />
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="CVN"/>
    <meta property="og:url" content="/investigacion/cvn.html"/>
    <meta property="og:description" content="Configuración cvn/settings_local.py cp cvn/settings_local-sample.py cvn/settings_local.py VARIABLE DESCRIPCIÓN TIPO UNIVERSITY Nombre de la universidad string EXPIRY_DATE Todos los CVNs con fecha de generación anterior a su valor se consideran caducados date FECYT_USER Nombre de usuario para acceder a los web services de la FECYT string ..." />


    <!-- ULL -->
        <link rel="stylesheet" href="//static.ull.es/v3/dist/css/ull.min.css" type="text/css"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.min.css"/>

    <link href="/investigacion/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/investigacion/theme/css/style.css" type="text/css"/>
    <noscript><style> .jsonly { display: none } </style></noscript>


</head>
<body>

<div class="navbar navbar-default navbar-ull" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-app-collapse">
                <span class="sr-only">Desplegar menú de aplicación</span>
                <span class="fa fa-bars fa-stack"></span>
            </button>
<!--
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                <span class="sr-only">Desplegar menú de navegación</span>
                <span class="fa fa-link fa-stack"></span>
            </button>
-->
            <a class="navbar-brand" href="http://www.ull.es" title="Universidad de La Laguna">Universidad de La Laguna</a>
        </div>
<!--
        <div class="collapse navbar-collapse navbar-main-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contacto <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a target="_blank" href="http://www.ull.es"><i class="fa fa-globe"></i> Página Web ULL</a></li>
                        <li><a target="_blank" title="Formulario de contacto" href="http://www.ull.es/view/institucional/ull/Contacto_3/es"><i class="fa fa-list-alt"></i> Formulario de contacto</a></li>
                        <li><a target="_blank" title="Teléfonos" href="http://www.ull.es/view/institucional/ull/Telefonos/es"><i class="fa fa-phone"></i> Directorio telefónico</a></li>
                        <li class="divider"></li>
                        <li>
                            <ul class="rrss text-muted list-inline">
                                <li><a target="_blank" href="http://www.facebook.com/universidaddelalaguna"><i class="fa fa-facebook-square"></i></a></li>
                                <li><a target="_blank" href="http://www.tuenti.com/#m=Page&amp;func=index&amp;page_key=1_160_68944913"><i class="fa fa-tumblr-square"></i></a></li>
                                <li><a target="_blank" href="http://twitter.com/CanalULL"><i class="fa fa-twitter-square"></i></a></li>
                                <li><a target="_blank" href="http://www.linkedin.com/groups/Universidad-Laguna-2656178"><i class="fa fa-linkedin-square"></i></a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
-->
    </div>
</div>
<div class="navbar navbar-default navbar-app" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
                <ol class="breadcrumb">
                    <li class="active"><a href="/investigacion/">Portal del Investigador</a></li>
                </ol>
        </div>
        <div class="collapse navbar-collapse navbar-app-collapse">
            <ul class="nav navbar-nav navbar-right">
                        <li><a href="/investigacion/">Inicio</a></li>
                        <li><a href="/investigacion/instalacion.html">Instalación</a></li>
                        <li><a href="/investigacion/core.html">CORE</a></li>
                        <li class="active"><a href="/investigacion/cvn.html">CVN</a></li>
                        <li><a href="/investigacion/autenticacion.html">Autenticación</a></li>
                        <li><a href="/investigacion/parseo-de-un-cvn-pdf.html">Parseo de un CVN-PDF</a></li>
                        <li><a href="/investigacion/exportar-a-un-cvn-pdf.html">Exportar a un CVN-PDF</a></li>
                        <li><a href="/investigacion/como-contribuir.html">Cómo Contribuir</a></li>
                        <li><a href="/investigacion/desarrolladores.html">Desarrolladores</a></li>
                        <li><a href="/investigacion/contacto.html">Contacto</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<div class="container-fluid">
    <div class="row">
        <div class="col-md-9" role="main">

    <section id="content" class="body">
        <h1 class="entry-title">CVN</h1>
        
        <div class="entry-content">
            <h2 id="configuracion">Configuración</h2>

<div class="alert alert-info">
    cvn/settings_local.py
</div>

<pre>cp cvn/settings_local-sample.py cvn/settings_local.py</pre>

<table class="table table-striped table-condensed">
    <tr>
        <th>VARIABLE</th>
        <th>DESCRIPCIÓN</th>
        <th>TIPO</th>
    </tr>
    <tr>
        <td>UNIVERSITY</td>
        <td>Nombre de la universidad</td>
        <td>string</td>
    </tr>
    <tr>
        <td>EXPIRY_DATE</td>
        <td>Todos los CVNs con fecha de generación anterior a su valor se consideran caducados</td>
        <td>date</td>
    </tr>
    <tr>
        <td>FECYT_USER</td>
        <td>Nombre de usuario para acceder a los <i>web services</i> de la FECYT</td>
        <td>string</td>
    </tr>
    <tr>
        <td>FECYT_PASSWORD</td>
        <td>Contraseña para acceder a los <i>web services</i> de la FECYT</td>
        <td>string</td>
    </tr>
    <tr>
        <td>CVN_PDF_AUTHOR_NOAUT</td>
        <td>Cuando se genera un CVN-PDF a través del <i>web service</i> de la FECYT se escribe en sus metadatos el campo author con el identificador de la universidad que lo genera. 
            A través de esta variable se puede impedir subir un CVN generado por una universidad concreta.
            Se recomienda su uso para obligar al usuario a editar su CVN desde el Editor de la FECYT
        </td>
        <td>string</td>
    </tr>                                       
    <tr>
        <td>HISTORICAL_YEAR</td>
        <td>
            Se usa para seleccionar la base de datos histórica que se usará para mostrar el Informe de Producción Científica (CVN-PDF del usuario GesInv-ULL). 
            Los valores permitidos son las claves del diccionario HISTORICAL. Más información en <a href="#bbddh">Base de datos histórica</a>
        </td>
        <td>string</td>
    </tr>
</table>

<h2 id="admincommands">Admin Commands</h2>

<h3 class="page-header">CRON</h3>

<p>
    Los siguientes comandos de administración necesitan ser ejecutados regularmente, por lo que es necesaria su inclusión en el CRON del sistema.
</p>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Actualización del Estado del CVN de los usuarios</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/update_all_status_cvn.py</b></div>
            <p>
                Actualiza el Estado del CVN de cada usuario (campo status del modelo CVN). 
                Este estado se calcula a partir de la fecha de expiración (variable EXPIRY_DATE 
                en el Settings de CVN) y la fecha de creación del CVN-PDF.
            </p>
            <pre>python manage.py update_all_status_cvn</pre>
        </div>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Inserción tardía de nuevos CVNs</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/insert_all_cvn.py</b></div>
            <p>
                Cuando un usuario sube un CVN-PDF, válido para la FECYT, sólo se obtiene su representación en XML. 
                Es decir, su producción científica no es almacenada hasta que se realice el parseo, evitando así 
                tiempos de espera elevados en el momento de subir un nuevo documento.
            </p>
            <p>
                Este comando extrae la información de los nuevos CVN-XML de los usuarios y la inserta en la base de datos.
            </p>
            <pre>python manage.py insert_all_cvn</pre>
        </div>
    </div>
</div>

<h3 class="page-header">Tareas Administrativas</h3>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Limpieza de Duplicados</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/find_pairs.py</b></div>
            <p>    
                Busca pares de elementos similares en los CvnItem insertados (posibles duplicados) con el objetivo de 
                unificarlos. Para tal fin, se proporciona un menú que facilita la selección de los mejores campos de 
                los pares, es decir, aquellos que recogen la información más precisa.
            </p>
            <p>
                Por cada par unificado se crea un nuevo elemento relacionado con los usuarios originales, dejando 
                a <i>None</i> los registros originales, que han de ser eliminados.
            </p>
            <p>
                La búsqueda de duplicados puede alargarse demasiado en el tiempo si no se emplea el parámetro <i>year</i>, 
                ya que se realiza una búsqueda todos contra todos, por lo que se recomienda filtrar por años el conjunto 
                de elementos inicial.
            </p>
            <pre>python manage.py find_pairs --document="..." --table="..." --diff="0-7" --year="YYYY"</pre>
            <h5>Parámetros</h5>
            <table class="table table-striped table-condensed">
                <tr>
                    <th>PARÁMETRO</th>
                    <th>DESCRIPCIÓN</th>
                    <th>USO</th>
                    <th>RECOMENDADO</th>
                </tr>
                <tr>
                    <td>document</td>
                    <td>Documento de Identificación (DNI/NIF) de un usuario (campo documento del modelo UserProfile)</td>
                    <td>Limpieza de registros de un único usuario</td>
                    <td>NO</td>
                </tr>
                <tr>
                    <td>table</td>
                    <td>Tabla que se quiere limpiar</td>
                    <td>Los valores posibles son: Proyecto, Articulo, Libro, Capitulo, Congreso, Convenio, TesisDoctoral o Patente</td>
                    <td>SI</td>
                </tr>
                <tr>
                    <td>diff</td>
                    <td>División de Pares de duplicados por el número de campos diferentes</td>
                    <td>Ejecutar con valores de 0 a 7</td>
                    <td>SI</td>
                </tr>
                <tr>
                    <td>year</td>
                    <td>Año asociado al CvnItem</td>
                    <td>Limpieza de registros realizados en el año <i>year</i></td>
                    <td>SI</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Generación de Informes por Departamentos o Áreas</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/dept_report.py</b></div>
            <p>
                Genera un Informe en PDF o CSV con los datos de producción científica de cada departamento 
                o área a partir de la información extraída de diferentes Web Services.
            </p>
            <pre>python manage.py dept_report --year="<YYYY>" --id="X" --type="d|a" --format="pdf|csv"</pre>
            <h5>Parámetros</h5>
            <table class="table table-striped table-condensed">
                <tr>
                    <th>PARÁMETRO</th>
                    <th>DESCRIPCIÓN</th>
                </tr>
                <tr>
                    <td>year</td>
                    <td>El Informe contendrá la información del año <i>year</i></td>
                </tr>
                <tr>
                    <td>id</td>
                    <td>Código interno del Departamento/Área del que se va a hacer el informe. Si no se especifica se obtiene el de todos los Departamentos/Áreas</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>Permite elegir entre Informe por Departamento (d) o Informe por Áreas (a). Si no se especifica se obtiene el Informe por Departamentos</td>
                </tr>
                <tr>
                    <td>format</td>
                    <td>Permite elegir el formato de salida: PDF o CSV. Si no se especifica se obtiene en PDF</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Generación de CSV para la Migración de usuarios y CVNs</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/generate_csv_migrate_cvn.py</b></div>
            <p>
                Permite la creación de un fichero CSV con la información de los usuarios necesaria para la migración a otras instancias de la aplicación. 
                El formato es el siguiente: nombre de usuario; documento de identidad; ruta del CVN-PDF; nombre; apellidos
            </p>
            <pre>python manage.py generate_csv_migrate_cvn --date="<dd-mm-yyyy>"</pre>
            <h5>Parámetros</h5>
            <table class="table table-striped table-condensed">
                <tr>
                    <th>PARÁMETRO</th>
                    <th>DESCRIPCIÓN</th>
                </tr>
                <tr>
                    <td>date</td>
                    <td>Sólo añade al CSV los usuarios que tengan un CVN-PDF subido con fecha igual o posterior a la fecha indicada</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Importación de usuarios y CVNs a partir de un CSV de Migración</li>
    </ul>
    <div class="content">
        <div class="row-fluid">
            <div class="alert alert-info"><b>cvn/management/commands/migrate_cvn_from_csv.py</b></div>
            <p>
                Permite importar usuarios y CVNs masivamente en la aplicación desde un CSV, siguiendo el formato del comando <i>generate_csv_migrate_cvn</i>
            </p>
            <p>
                El fichero de Migración debe almacenase en el directorio definido en la variable <i>MIGRATION_ROOT</i> en el Settings de CVN.
            </p>
            <pre>python manage.py migrate_cvn_from_csv</pre>
        </div>
    </div>
</div>

<h2 id="signals">Signals y receivers</h2>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Signals</li>
    </ul>
    <div class="content">
        <p>
            Las señales son emitidas en momentos clave de la ejecución. Se usan para ejecutar código en terceras aplicaciones en respuesta a eventos importantes.
        </p>
        <table class="table table-striped table-condensed">
            <tr>
                <th>SEÑAL</th>
                <th>DESCRIPCIÓN</th>
            </tr>
            <tr>
                <td>pre_cvn_status_changed</td>
                <td>Se genera ante un cambio de estado de un CVN</td>
            </tr>
        </table>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">Receivers</li>
    </ul>
    <div class="content">
        <p>
            Los receivers contienen código que es ejecutado en respuesta a un evento ocurrido.
        </p>
        <table class="table table-striped table-condensed">
            <tr>
                <th>RECEPTOR</th>
                <th>DESCRIPCIÓN</th>
                <th>SEÑAL CAPTURADA</th>
            </tr>
            <tr>
                <td>cvn_delete_files</td>
                <td>Elimina los ficheros PDF y XML asociados al CVN que se va a eliminado</td>
                <td>CVN.pre_delete / OldCvnPdf.pre_delete</td>
            </tr>
            <tr>
                <td>log_status_cvn_changed</td>
                <td>Añade una entrada en la tabla Log cuando un CVN se crea o actualiza</td>
                <td>CVN.pre_save</td>
            </tr>
        </table>
    </div>
</div>

<h2 id="webservices">Web Services</h2>

<div class="alert alert-warning">
WS_SERVER_URL contiene la dirección URL base de los <i>web services</i>.
Debe sobreescribirse con la <i>URL</i> donde cada universidad ha puesto su servidor.
</div>

<h3 class="page-header">Generación de CVNs</h3>

<p>
    Usados para generar un CVN básico para el investigador, con la información que la universidad ya conoce sobre el mismo.
    De esta manera el investigador no necesita crear su CVN desde cero.
    Son necesarios para el funcionamiento de la opción "Exportar mi información ULL".
</p>

<div class="section"><ul class="nav nav-tabs header"><li class="active">WS_ULL_LEARNING</li></ul>
<div class="content">

<p>Contiene información sobre la formación académica recibida por el investigador en la universidad.</p>

<p>Formato de las peticiones:</p>
<table class="table table-striped table-condensed">
    <tr>
        <th>VARIABLE</th>
        <th>VALOR</th>
        <th>DESCRIPCIÓN</th>
    </tr>
    <tr>
        <td>WS_ULL_LEARNING</td>
        <td>WS_SERVER_URL + 'get_formacion_academica?cod_persona=[código de persona]'</td>
        <td>Formación académica recibida por el investigador</td>
    </tr>
</table>

<p>Estructura de salida:</p>
<pre>
[{"des1_titulacion": ..., 
  "des1_grado_titulacion": ...,
  "organismo": ..., 
  "f_expedicion": ...
 }, 
 {"des1_titulacion": ...
  "des1_grado_titulacion": ...,
  "organismo": ..., 
  "f_expedicion": ...
 },
 ...
]
</pre>

<table class="table table-striped table-condensed">
    <tr>
        <th>CLAVE</th>
        <th>DESCRIPCIÓN</th>
        <th>VALOR</th>
    </tr>
    <tr>
        <td>des1_titulacion</td>
        <td>Nombre de la titulación o doctorado</td>
        <td>Ej: 'Licenciado en Matemáticas'</td>
    </tr>
    <tr>
        <td>organismo</td>
        <td>Entidad que expide la titulación</td>
        <td>Ej: 'Universidad de La Laguna'</td>
    </tr>
    <tr>
        <td>des1_grado_titulacion</td>
        <td>Tipo de titulación obtenida</td>
        <td>'Doctor', 'Licenciado/Ingeniero Superior' o 'Diplomado/Ingeniero Técnico'</td>
    </tr>
    <tr>
        <td>f_expedicion</td>
        <td>Fecha en la que se obtuvo la titulación</td>
        <td>Formato de la fecha: 'DD-MM-YYYY'</td>
    </tr>
</table>

</div>

</div>

<div class="section"><ul class="nav nav-tabs header"><li class="active">WS_ULL_CARGOS</li></ul>
<div class="content">

<p>Contiene información sobre los cargos que ha ejercido el investigador en la universidad.</p>

<p>Formato de las peticiones:</p>
<table class="table table-striped table-condensed">
    <tr>
        <th>VARIABLE</th>
        <th>VALOR</th>
        <th>DESCRIPCIÓN</th>
    </tr>
    <tr>
        <td>WS_ULL_CARGOS</td>
        <td>WS_SERVER_URL + 'get_cargos?cod_persona=[código de persona]'</td>
        <td>Cargos desempeñados por el investigador en la universidad</td>
    </tr>
</table>

<p>Estructura de salida:</p>
<pre>
[{
  "dedicacion": ..., 
  "des1_cargo": ..., 
  "centro": ..., 
  "departamento": ..., 
  "f_hasta": ..., 
  "f_toma_posesion": ...
 },
 {"dedicacion": ..., 
  "des1_cargo": ..., 
  "centro": ..., 
  "departamento": ..., 
  "f_hasta": ..., 
  "f_toma_posesion": ...
 },
 ...
]

</pre>

<table class="table table-striped table-condensed">
    <tr>
        <th>CLAVE</th>
        <th>DESCRIPCIÓN</th>
        <th>VALOR</th>
    </tr>
    <tr>
        <td>dedicacion</td>
        <td>Tipo de horario</td>
        <td>'Tiempo Completo' o 'Tiempo parcial'</td>
    </tr>
    <tr>
        <td>des1_cargo</td>
        <td>Nombre del cargo desempeñado</td>
        <td>Ej: 'Secretario del Departamento de Análisis Matemático'</td>
    </tr>
    <tr>
        <td>centro</td>
        <td>Centro (facultad, escuela, instituto, etc.) donde está o estuvo contratado</td>
        <td>Ej: 'Departamento de Análisis Matemático'</td>
    </tr>
    <tr>
        <td>departamento</td>
        <td>Nombre del departamento en el que estuvo adscrito en el contrato</td>
        <td>Ej: 'Análisis Matemático'</td>
    </tr>
    <tr>
        <td>f_toma_posesion</td>
        <td>Fecha de inicio de la actividad</td>
        <td>Formato de la fecha: 'DD-MM-YYYY'</td>
    </tr>
    <tr>
        <td>f_hasta</td>
        <td>Fecha de finalización de la actividad</td>
        <td>Formato de la fecha: 'DD-MM-YYYY'</td>
    </tr>
</table>

</div>

</div>

<h3 class="page-header">Generación de informes de departamentos</h3>

<p>
    Proveen de información sobre los departamentos y las áreas de la universidad.
    Son usados para la generación de informes sobre departamentos/áreas en el <i>admin command</i> <code>dept_report</code>.
</p>

<div class="section"><ul class="nav nav-tabs header"><li class="active">WS_DEPARTMENTS_AND_MEMBERS</li></ul>
<div class="content">

<p>Contiene información sobre los departamentos de la universidad y sus miembros.</p>

<p>Formato de las peticiones:</p>
<table class="table table-striped table-condensed">
    <tr>
        <th>VARIABLE</th>
        <th>VALOR</th>
        <th>DESCRIPCIÓN</th>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros'</td>
        <td>Departamentos y sus miembros actuales</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_YEAR</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros?year=[año]'</td>
        <td>Departamentos y sus miembros el año indicado en el parámetro year</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_USER</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros?cod_persona=[código de recursos humanos]'</td>
        <td>Departamentos a los que pertenece actualmente el usuario identificado por el parámetro cod_persona y sus miembros actuales</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_USER_YEAR</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros?cod_persona=[código de recursos humanos]&year=[año]'</td>
        <td>Departamentos a los que pertenecía el usuario identificado por cod_persona el año indicado por el parámetro year, y sus miembros ese año</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_UNIT</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros?codigo=[código departamento]'</td>
        <td>Información y miembros actuales del departamento identificado por el parámetro codigo</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_UNIT_YEAR</td>
        <td>WS_SERVER_URL + 'get_departamentos_y_ultimos_miembros?codigo=[código departamento]&year=[año]'</td>
        <td>Información y miembros del departamento identificado por codigo en el año indicado en el parámetro year</td>
    </tr>
</table>

<p>Estructura de salida:</p>
<pre>
[{"miembros": [{"cod_cce": ..., 
                "cod_cce__descripcion": ..., 
                "cod_persona__apellido1": ..., 
                "cod_persona__nombre": ..., 
                "cod_persona": ..., 
                "cod_cce__descripcion_corta": ..., 
                "cod_persona__apellido2": ...
               }, 
               ...
              ],
  "unidad": {"nombre":...,
             "codigo": ..., 
             "nombre_corto":...
            }
  },
  ...
]
</pre>

<table class="table table-striped table-condensed">
    <tr>
        <th>CLAVE</th>
        <th>DESCRIPCIÓN</th>
        <th>VALOR</th>
    </tr>
    <tr>
        <td>cod_cce</td>
        <td>Código único que identifica la categoría profesional del investigador</td>
        <td>Ej: '6327'</td>
    </tr>
    <tr>
        <td>cod_cce_descripción</td>
        <td>Nombre de la categoría profesional del investigador</td>
        <td>Ej: 'Profesor Titular Universidad'</td>
    </tr>
    <tr>
        <td>cod_persona_apellido1</td>
        <td>Primer apellido del investigador</td>
        <td>Ej: 'Rodríguez'</td>
    </tr>
    <tr>
        <td>cod_persona_nombre</td>
        <td>Nombre del investigador</td>
        <td>Ej: 'Alberto'</td>
    </tr>
    <tr>
        <td>cod_persona</td>
        <td>Identificador único del investigador</td>
        <td>Ej: '17965'</td>
    </tr>
    <tr>
        <td>cod_cce_descripcion_corta</td>
        <td>Abreviatura de la categoría profesional del investigador</td>
        <td>Ej: 'T.U.'</td>
    </tr>
    <tr>
        <td>cod_persona_apellido2</td>
        <td>Segundo apellido del investigador</td>
        <td>Ej: 'González'</td>
    </tr>
    <tr>
        <td>nombre</td>
        <td>Nombre del departamento</td>
        <td>Ej: "Química Orgánica"</td>
    </tr>
    <tr>
        <td>codigo</td>
        <td>Identificador único del departamento</td>
        <td>Ej: '48932'</td>
    </tr>
    <tr>
        <td>nombre_corto</td>
        <td>Abreviatura del nombre del departamento</td>
        <td>Ej: 'Quim. Organ.'</td>
    </tr>
</table>

</div>

</div>

<div class="section"><ul class="nav nav-tabs header"><li class="active">WS_AREAS_AND_MEMBERS</li></ul>
<div class="content">

<p>Contiene información sobre las áreas de la universidad y sus miembros.</p>

<p>Formato de las peticiones:</p>
<table class="table table-striped table-condensed">
    <tr>
        <th>VARIABLE</th>
        <th>VALOR</th>
        <th>DESCRIPCIÓN</th>
    </tr>
    <tr>
        <td>WS_AREAS_AND_MEMBERS</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros'</td>
        <td>Departamentos y sus miembros actuales</td>
    </tr>
    <tr>
        <td>WS_AREAS_AND_MEMBERS_YEAR</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros?year=[año]'</td>
        <td>Áreas y sus miembros el año indicado en el parámetro year</td>
    </tr>
    <tr>
        <td>WS_AREAS_AND_MEMBERS_USER</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros?cod_persona=[código de recursos humanos]'</td>
        <td>Areas a las que pertenece actualmente el usuario identificado por el parámetro cod_persona y sus miembros actuales</td>
    </tr>
    <tr>
        <td>WS_AREAS_AND_MEMBERS_USER_YEAR</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros?cod_persona=[código de recursos humanos]&year=[año]'</td>
        <td>Areas a las que pertenecía el usuario identificado por cod_persona el año indicado por el parámetro year, y sus miembros ese año</td>
    </tr>
    <tr>
        <td>WS_AREAS_AND_MEMBERS_UNIT</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros?codigo=[código departamento]'</td>
        <td>Información y miembros actuales del área identificada por el parámetro codigo</td>
    </tr>
    <tr>
        <td>WS_DEPARTMENTS_AND_MEMBERS_UNIT_YEAR</td>
        <td>WS_SERVER_URL + 'get_areas_y_ultimos_miembros?codigo=[código departamento]&year=[año]'</td>
        <td>Información y miembros del área identificada por codigo en el año indicado en el parámetro year</td>
    </tr>
</table>

<p>Estructura de salida:</p>
<pre>
[{"miembros": [{"cod_cce": ..., 
                "cod_cce__descripcion": ..., 
                "cod_persona__apellido1": ..., 
                "cod_persona__nombre": ..., 
                "cod_persona": ..., 
                "cod_cce__descripcion_corta": ..., 
                "cod_persona__apellido2": ...
               },
               ...
              ]
  "unidad": {"nombre":...,
             "codigo": ..., 
             "nombre_corto":...
            }
 } 
 {"miembros": ...,
  "unidad": ...
 }
]
</pre>

<table class="table table-striped table-condensed">
    <tr>
        <th>CLAVE</th>
        <th>DESCRIPCIÓN</th>
        <th>VALOR</th>
    </tr>
    <tr>
        <td>cod_cce</td>
        <td>Código único que identifica la categoría profesional del investigador</td>
        <td>Ej: '5610'</td>
    </tr>
    <tr>
        <td>cod_cce_descripción</td>
        <td>Nombre de la categoría profesional del investigador</td>
        <td>Ej: 'Personal Invest.en Formación (prácticas)'</td>
    </tr>
    <tr>
        <td>cod_persona_apellido1</td>
        <td>Primer apellido del investigador</td>
        <td>Ej: 'Ruiz'</td>
    </tr>
    <tr>
        <td>cod_persona_nombre</td>
        <td>Nombre del investigador</td>
        <td>Ej: 'Omar'</td>
    </tr>
    <tr>
        <td>cod_persona</td>
        <td>Identificador único del investigador</td>
        <td>Ej: '19944'</td>
    </tr>
    <tr>
        <td>cod_cce_descripcion_corta</td>
        <td>Abreviatura de la categoría profesional del investigador</td>
        <td>Ej: 'PIFP'</td>
    </tr>
    <tr>
        <td>cod_persona_apellido2</td>
        <td>Segundo apellido del investigador</td>
        <td>Ej: 'López'</td>
    </tr>
    <tr>
        <td>nombre</td>
        <td>Nombre del área</td>
        <td>Ej: "Economía Aplicada"</td>
    </tr>
    <tr>
        <td>codigo</td>
        <td>Identificador único del área</td>
        <td>Ej: '703387'</td>
    </tr>
    <tr>
        <td>nombre_corto</td>
        <td>Abreviatura del nombre del área</td>
        <td>Ej: 'Eco. Aplica.'</td>
    </tr>
</table>

</div>

</div>
        </div>
    </section>
        </div>
        <div class="col-md-3 sidebar" id="sidebar">




    <div class="panel panel-default panel-ull color-336699">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-external-link-square"></i> Links</h3>
            </div>
            <div class="panel-body">
                <ul class="nav nav-pills nav-stacked" id="links">
                    <li><a href="http://www.ull.es/" target="_blank"> Universidad de La Laguna (ULL)</a></li>
                    <li><a href="http://cvn.fecyt.es/" target="_blank"> CVN de la FECYT</a></li>
                </ul>
            </div>
    </div>
    <div class="panel panel-default panel-ull color-336699">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-copyright"></i> Licencia</h3>
            </div>
            <div class="panel-body">
                <ul class="nav nav-pills nav-stacked">
                    <li><div class="media"><a href="http://www.gnu.org/licenses/agpl-3.0.html" target="_blank">GNU Affero General Public License v3.0</a></div></li>
                    <li><div class="media"><a href="http://www.gnu.org/licenses/agpl-3.0.html" target="_blank"><img alt="AGPL v3.0" class="media-object" style="display: block; margin-left: auto; margin-right: auto;" src="images/agplv3.png"></a></div></li>
                </ul>
            </div>
    </div>
    <div class="panel panel-default panel-ull color-336699">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-cogs"></i> Tecnología</h3>
            </div>
            <div class="panel-body" style="text-align: center;">
                <ul class="nav nav-pills nav-stacked">
                    <li><div class="media"><a href="http://www.djangoproject.com/" target="_blank"><img src="https://www.djangoproject.com/m/img/badges/djangopowered126x54.gif" border="0" alt="Powered by Django." title="Powered by Django."/></a></div></li>
                    <li><div class="media"><a href="https://www.python.org/" target="_blank"><img src="images/python.png" border="0" alt="Python" title="Python"/></a></div></li>
                    <li><div class="media"><a href="http://redis.io/" target="_blank"><img src="images/redis.png" border="0" alt="Redis" title="Redis"/></a></div></li>
                    <li><div class="media"><a href="http://www.reportlab.com/" target="_blank"><img src="images/reportlab.png" border="0" alt="ReportLab" title="ReportLab"/></a></div></li>
                </ul>
            </div>
    </div>
        </div>
    </div>
</div>
<div id="footer">
   <div class="container-fluid">
      <div class="row">
         <div class="col-xs-12">
            <ul class="address pull-left">
                <li><strong>Universidad de La Laguna</strong><br> Pabellón de Gobierno, C/ Molinos de Agua s/n. | San Cristóbal de La Laguna, Santa Cruz de Tenerife - España (38200) | Teléfono: (+34) 922 31 90 00/01</li>
            </ul>
            <ul class="list-inline text-muted pull-right">
                <li><a title="Facebook" target="_blank" href="http://www.facebook.com/universidaddelalaguna"><span class="fa fa-facebook-square"></span></a></li>
                <li><a title="Tuenti" target="_blank" href="http://www.tuenti.com/#m=Page&amp;func=index&amp;page_key=1_160_68944913"><i class="fa fa-tumblr-square"></i></a></li>
                <li><a title="Twitter" target="_blank" href="http://twitter.com/CanalULL"><i class="fa fa-twitter-square"></i></a></li>
                <li><a title="LinkedIn" target="_blank" href="http://www.linkedin.com/groups/Universidad-Laguna-2656178"><i class="fa fa-linkedin-square"></i></a></li>
                <li><a title="Página web ULL" target="_blank" href="http://www.ull.es"><i class="fa fa-globe"></i></a></li>
            </ul>
         </div>
      </div>
   </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//static.ull.es/v3/dist/js/ull.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/3.0.3a/ekko-lightbox.js"></script>

</body>
</html>