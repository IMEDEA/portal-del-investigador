<!DOCTYPE html>
<html lang="es"
>
<head>
    <title>Instalación - Portal del Investigador - Documentación</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Favicon -->
    <link rel="shortcut icon" href="//static.ull.es/v3/dist/img/favicon.ico">
    <!--[if IE]><link rel="shortcut icon" href="//static.ull.es/v3/dist/img/favicon.ico"><![endif]-->
    <!-- Touchicon -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="//static.ull.es/v3/dist/img/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="//static.ull.es/v3/dist/img/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="//static.ull.es/v3/dist/img/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="//static.ull.es/v3/dist/img/apple-touch-icon-57-precomposed.png">

<link rel="canonical" href="/investigacion/instalacion.html">

        <meta name="author" content="Universidad de La Laguna" />
        <meta name="description" content="La presente guía de instalación proporciona el paso a paso de la instalación y configuración del proyecto bajo un entorno con sistema operativo GNU/Linux, concretamente Ubuntu. 1. Clonar el repositorio con sus submódulos git clone --recursive https://github.com/tic-ull/investigacion.git 2. Instalar dependencias Para la instalación de ..." />

    <meta property="og:site_name" content="Portal del Investigador - Documentación" />
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Instalación"/>
    <meta property="og:url" content="/investigacion/instalacion.html"/>
    <meta property="og:description" content="La presente guía de instalación proporciona el paso a paso de la instalación y configuración del proyecto bajo un entorno con sistema operativo GNU/Linux, concretamente Ubuntu. 1. Clonar el repositorio con sus submódulos git clone --recursive https://github.com/tic-ull/investigacion.git 2. Instalar dependencias Para la instalación de ..." />


    <!-- ULL -->
    <link rel="stylesheet" href="//static.ull.es/v3/dist/css/ull.min.css" type="text/css"/>

    <link href="/investigacion/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="/investigacion/theme/css/style.css" type="text/css"/>
    <noscript><style> .jsonly { display: none } </style></noscript>


</head>
<body>

<div class="navbar navbar-default navbar-ull" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-app-collapse">
                <span class="sr-only">Desplegar menú de aplicación</span>
                <span class="fa fa-bars fa-stack"></span>
            </button>
<!--
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                <span class="sr-only">Desplegar menú de navegación</span>
                <span class="fa fa-link fa-stack"></span>
            </button>
-->
            <a class="navbar-brand" href="http://www.ull.es" title="Universidad de La Laguna">Universidad de La Laguna</a>
        </div>
<!--
        <div class="collapse navbar-collapse navbar-main-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contacto <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a target="_blank" href="http://www.ull.es"><i class="fa fa-globe"></i> Página Web ULL</a></li>
                        <li><a target="_blank" title="Formulario de contacto" href="http://www.ull.es/view/institucional/ull/Contacto_3/es"><i class="fa fa-list-alt"></i> Formulario de contacto</a></li>
                        <li><a target="_blank" title="Teléfonos" href="http://www.ull.es/view/institucional/ull/Telefonos/es"><i class="fa fa-phone"></i> Directorio telefónico</a></li>
                        <li class="divider"></li>
                        <li>
                            <ul class="rrss text-muted list-inline">
                                <li><a target="_blank" href="http://www.facebook.com/universidaddelalaguna"><i class="fa fa-facebook-square"></i></a></li>
                                <li><a target="_blank" href="http://www.tuenti.com/#m=Page&amp;func=index&amp;page_key=1_160_68944913"><i class="fa fa-tumblr-square"></i></a></li>
                                <li><a target="_blank" href="http://twitter.com/CanalULL"><i class="fa fa-twitter-square"></i></a></li>
                                <li><a target="_blank" href="http://www.linkedin.com/groups/Universidad-Laguna-2656178"><i class="fa fa-linkedin-square"></i></a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
-->
    </div>
</div>
<div class="navbar navbar-default navbar-app" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
                <ol class="breadcrumb">
                    <li class="active"><a href="/investigacion/">Portal del Investigador - Documentación</a></li>
                </ol>
        </div>
        <div class="collapse navbar-collapse navbar-app-collapse">
            <ul class="nav navbar-nav navbar-right">
                         <li><a href="/investigacion/">Inicio</a></li>
                         <li class="active"><a href="/investigacion/instalacion.html">Instalación</a></li>
                         <li><a href="/investigacion/admin-commands.html">Admin Commands</a></li>
                         <li><a href="/investigacion/signals-y-receivers.html">Signals y Receivers</a></li>
                         <li><a href="/investigacion/web-services.html">Web Services</a></li>
                         <li><a href="/investigacion/autenticacion.html">Autenticación</a></li>
                         <li><a href="/investigacion/parseo-de-un-cvn-pdf.html">Parseo de un CVN-PDF</a></li>
                         <li><a href="/investigacion/exportar-a-un-cvn-pdf.html">Exportar a un CVN-PDF</a></li>
                         <li><a href="/investigacion/desarrolladores.html">Desarrolladores</a></li>
                         <li><a href="/investigacion/contacto.html">Contacto</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<div class="container-fluid">
    <div class="row">
        <div class="col-md-9" role="main">

    <section id="content" class="body">
        <h1 class="entry-title">Instalación</h1>
        
        <div class="entry-content">
            <p>
    La presente guía de instalación proporciona el paso a paso de la instalación y configuración del proyecto bajo un entorno con sistema operativo GNU/Linux, concretamente Ubuntu.
</p>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">1. Clonar el repositorio con sus submódulos</li>
    </ul>
    <div class="content">
        <pre>git clone --recursive https://github.com/tic-ull/investigacion.git</pre>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">2. Instalar dependencias</li>
    </ul>
    <div class="content">
        <div class="alert alert-warning">
            Para la instalación de dependencias de módulos Python se emplea <i>pip</i>. 
            Se recomienda el uso de <i>virtualenv</i> junto con esta herramienta, aunque 
            en las instrucciones no se entrará a explicar su funcionamiento.
        </div>
<pre>
sudo apt-get install python-pip
sudo pip install -U distribute
sudo apt-get install postgresql postgresql-client postgresql-contrib libpq-dev \
                     libxml2-dev libxslt1-dev python-dev xvfb redis-server
sudo pip install -r requirements.txt
</pre>
    </div>
</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">3. Configurar el proyecto y sus aplicaciones</li>
    </ul>
    <div class="content">
        <p>
            Tanto en el proyecto como en las aplicaciones, los parámetros de configuración se establecen en los ficheros <i>settings.py</i>. 
            Varios de estos parámetros necesitan ser sobreescritos, para ello se emplean los ficheros <i>settings_local.py</i>.
            Se proporcionan los ficheros <i>settings_local-sample.py</i> como ejemplo, se recomienda su uso como punto de partida.
        </p>

        <h4>Configuración del Proyecto Investigación</h4>
        <div class="alert alert-info">
            investigacion/settings_local.py
        </div>
        <pre>cp investigacion/settings_local-sample.py investigacion/settings_local.py</pre>
        <table class="table table-striped table-condensed">
            <tr>
                <th>VARIABLE</th>
                <th>DESCRIPCIÓN</th>
                <th>TIPO</th>
            </tr>
            <tr>
                <td>BASE_URL</td>
                <td>URL de la página principal del proyecto. Por defecto es un servicio externo</td>
                <td>string</td>
            </tr>
            <tr>
                <td>SECRET_KEY</td>
                <td colspan="2">
                    <a href="https://docs.djangoproject.com/en/1.7/ref/settings/#secret-key" target="_blank">https://docs.djangoproject.com/en/1.7/ref/settings/#secret-key</a>
                </td>
            </tr>
            <tr>
                <td>DEBUG</td>
                <td colspan="2">
                    <a href="https://docs.djangoproject.com/en/1.7/ref/settings/#std:setting-DEBUG" target="_blank">https://docs.djangoproject.com/en/1.7/ref/settings/#std:setting-DEBUG</a>
                </td>
            </tr>   
            <tr>
                <td>TEMPLATE_DEBUG</td>
                <td colspan="2">
                    <a href="https://docs.djangoproject.com/en/1.7/ref/settings/#template-debug" target="_blank">https://docs.djangoproject.com/en/1.7/ref/settings/#template-debug</a>
                </td>
            </tr>
            <tr>
                <td>DEVEL</td>
                <td>Si DEVEL es True (Entorno de Desarrollo), el servidor de aplicaciones de Django servirá los ficheros estáticos. En otro caso, deberá hacerse desde el Servidor Web del sistema</td>
                <td>boolean</td>
            </tr>
            <tr>
                <td>ADMINS</td>
                <td colspan="2">
                    <a href="https://docs.djangoproject.com/en/1.7/ref/settings/#std:setting-ADMINS" target="_blank">https://docs.djangoproject.com/en/1.7/ref/settings/#std:setting-ADMINS</a>
                </td>
            </tr>
            <tr>
                <td>SUPPORT</td>
                <td>Nombre del Departamento de Soporte que se le mostrará al usuario en caso de error</td>
                <td>string</td>
            </tr>
            <tr>
                <td>EMAIL_SUPPORT</td>
                <td>Correo Electrónico del Departamento de Soporte que se le mostrará al usuario en caso de error</td>
                <td>string</td>
            </tr>
            <tr>
                <td>CAS_SERVER_URL</td>
                <td>URL del <a href="autenticacion.html">Servicio de Autenticación</a> (CAS)</td>
                <td>string</td>
            </tr>
            <tr>
                <td>WS_SERVER_URL</td>
                <td>URL base del Servicio de <a href="web-services.html">Web Services</a></td>
                <td>string</td>
            </tr>           
        </table>
        <h4>Configuración de CVN</h4>
        <div class="alert alert-info">
            cvn/settings_local.py
        </div>
        <pre>cp cvn/settings_local-sample.py cvn/settings_local.py</pre>
        <table class="table table-striped table-condensed">
            <tr>
                <th>VARIABLE</th>
                <th>DESCRIPCIÓN</th>
                <th>TIPO</th>
            </tr>
            <tr>
                <td>UNIVERSITY</td>
                <td>Nombre de la universidad</td>
                <td>string</td>
            </tr>
            <tr>
                <td>EXPIRY_DATE</td>
                <td>Todos los CVNs con fecha de generación anterior a su valor se consideran caducados</td>
                <td>date</td>
            </tr>
            <tr>
                <td>FECYT_USER</td>
                <td>Nombre de usuario para acceder a los <i>Web Services</i> de la FECYT</td>
                <td>string</td>
            </tr>
            <tr>
                <td>FECYT_PASSWORD</td>
                <td>Contraseña para acceder a los <i>Web Services</i> de la FECYT</td>
                <td>string</td>
            </tr>
            <tr>
                <td>CVN_PDF_AUTHOR_NOAUT</td>
                <td>Cuando se genera un CVN-PDF a través del <i>Web Service</i> de la FECYT se escribe en sus metadatos el campo author con el identificador de la universidad que lo genera. 
                    A través de esta variable se puede impedir subir un CVN generado por una universidad concreta.
                    Se recomienda su uso para obligar al usuario a editar su CVN desde el Editor de la FECYT
                </td>
                <td>string</td>
            </tr>                                       
            <tr>
                <td>HISTORICAL_YEAR</td>
                <td>
                    Se usa para seleccionar la base de datos histórica que se usará para mostrar el Informe de Producción Científica (CVN-PDF del usuario GesInv-ULL). 
                    Los valores permitidos son las claves del diccionario HISTORICAL. Más información en <a href="#bbddh">Base de datos histórica</a>
                </td>
                <td>string</td>
            </tr>
        </table>
    </div>

</div>

<div class="section">
    <ul class="nav nav-tabs header">
        <li class="active">4. Configurar bases de datos</li>
    </ul>
    <div class="content">
        <div class="alert alert-warning">
            Se recomienda el uso de PostgreSQL como Sistema Gestor de Bases de Datos. 
            No se entrará a detallar la configuración del SGBD ni el proceso de creación de usuarios o bases de datos.
        </div>
        <h4>Base de Datos por defecto</h4>
        <p>
            La base de datos puede configurarse sobreescribiendo los valores por defecto en <i>investigacion/settings_local.py</i> siguiendo el formato que se indica en la <a href="https://docs.djangoproject.com/en/dev/ref/settings/#databases" target="_blank">documentación de Django</a>. 
            Una vez configurada, se deben ejecutar los siguientes comandos:
        </p>
<pre>
python manage.py makemigrations
python manage.py migrate
</pre>
        <h4 id="bbddh">Base de Datos histórica</h4>
        <p>
            Para la realización de Informes de Producción Científica extraídos de los CVN se puede clonar la base de datos por defecto a una base de datos histórica de sólo lectura. 
            Cada base de datos histórica se debe añadir a la configuración de base de datos de Django en <i>investigacion/settings_local.py</i>, 
            y posteriormente al diccionario <i>HISTORICAL</i> cumpliendo con el siguiente formato:
        </p>
<pre>
HISTORICAL = {
    '2013': 'nombre_bbdd_historica_2013',
    '2014': 'nombre_bbdd_historica_2014',
    ...
}
</pre>
    </div>
</div>

<div class="section"><ul class="nav nav-tabs header"><li class="active">5. Adaptación de sistema de autenticación</li></ul>
<div class="content">
    <p>
        Dependiendo del sistema de autenticación usado por la universidad, pueden ser necesarias modificaciones en el backend de autenticación de la aplicación, o su sustitución por otro.
        Para más información sobre este proceso consultar <a href="autenticacion.html">Autenticación</a>.
</div>
</div>

<div class="section"><ul class="nav nav-tabs header"><li class="active">6. Creación de Web Services</li></ul>
<div class="content">
    <p>
        Parte de la funcionalidad del Portal del Investigador requiere de la existencia de Web Services que provean la información necesaria.
        Esta funcionalidad no es esencial, y puede ser deshabilitada si no fuera necesaria.
        En la sección <a href="web-services.html">Web Services</a> se puede encontrar información para construir los Web Services necesarios.
</div>
</div>
        </div>
    </section>
        </div>
        <div class="col-md-3 sidebar" id="sidebar">




    <div class="panel panel-default panel-ull color-336699">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-external-link-square"></i> Enlaces de interés</h3>
            </div>
            <div class="panel-body">
                <ul class="nav nav-pills nav-stacked" id="links">
                    <li><a href="http://www.ull.es/" target="_blank"> Universidad de La Laguna (ULL)</a></li>
                    <li><a href="http://cvn.fecyt.es/" target="_blank"> CVN de la FECYT</a></li>
                </ul>
            </div>
    </div>
    <div class="panel panel-default panel-ull color-336699">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-copyright"></i> Licencia</h3>
            </div>
            <div class="panel-body">
                <ul class="nav nav-pills nav-stacked">
                    <li><div class="media"><a href="http://www.gnu.org/licenses/agpl-3.0.html" target="_blank">GNU Affero General Public License v3.0</a></div></li>
                    <li><div class="media"><a href="http://www.gnu.org/licenses/agpl-3.0.html" target="_blank"><img alt="AGPL v3.0" class="media-object" style="display: block; margin-left: auto; margin-right: auto;" src="images/agplv3.png"></a></div></li>
                </ul>
            </div>
    </div>
        </div>
    </div>
</div>
<div id="footer">
   <div class="container-fluid">
      <div class="row">
         <div class="col-xs-12">
            <ul class="address pull-left">
                <li><strong>Universidad de La Laguna</strong><br> Pabellón de Gobierno, C/ Molinos de Agua s/n. | San Cristóbal de La Laguna, Santa Cruz de Tenerife - España (38200) | Teléfono: (+34) 922 31 90 00/01</li>
            </ul>
            <ul class="list-inline text-muted pull-right">
                <li><a title="Facebook" target="_blank" href="http://www.facebook.com/universidaddelalaguna"><span class="fa fa-facebook-square"></span></a></li>
                <li><a title="Tuenti" target="_blank" href="http://www.tuenti.com/#m=Page&amp;func=index&amp;page_key=1_160_68944913"><i class="fa fa-tumblr-square"></i></a></li>
                <li><a title="Twitter" target="_blank" href="http://twitter.com/CanalULL"><i class="fa fa-twitter-square"></i></a></li>
                <li><a title="LinkedIn" target="_blank" href="http://www.linkedin.com/groups/Universidad-Laguna-2656178"><i class="fa fa-linkedin-square"></i></a></li>
                <li><a title="Página web ULL" target="_blank" href="http://www.ull.es"><i class="fa fa-globe"></i></a></li>
            </ul>
         </div>
      </div>
   </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//static.ull.es/v3/dist/js/ull.min.js"></script>

</body>
</html>